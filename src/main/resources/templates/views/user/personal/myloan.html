<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>个人理财系统</title>
    <!-- 引入bootstrap样式 -->
    <link th:href="@{/bootstrap/css/bootstrap.css}" rel="stylesheet" type="text/css">
    <!--图标库-->
    <link th:href="@{/lyear/css/materialdesignicons.min.css}" rel="stylesheet" type="text/css"/>
    <!--弹出框样式-->
    <link th:href="@{/lyear/jconfirm/jquery-confirm.min.css}" rel="stylesheet" type="text/css"/>
    <!--自定义样式-->
    <link href="../lyear/css/style.min.css" th:href="@{/lyear/css/style.min.css}" rel="stylesheet" type="text/css"/>

</head>
<body>
<div class="lyear-layout-web">
    <div class="lyear-layout-container">
        <!--左侧导航-->
        <div th:replace="user/common/leftbar::#leftbaraside"></div>
        <!--头部信息-->
        <div th:replace="user/common/topbar::#topbarheader"></div>

        <!--页面主要内容-->
        <main class="lyear-layout-content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4>调查问卷</h4>
                            </div>

                            <div class="card">
                                <div class="card-body">

                                    <form>
                                        <div class="form-group">
                                            <label>您的性别</label>
                                                <div class="example-box">
                                                    <label class="lyear-radio radio-inline">
                                                        <input type="radio" name="sex"
                                                               value="1" ><span>男</span>
                                                    </label>
                                                    <label class="lyear-radio radio-inline">
                                                        <input type="radio" name="sex"
                                                               value="2"> <span>女</span>
                                                    </label>
                                                </div>
                                                <span class="help-block"></span>
                                        </div>

                                        <div class="form-group">
                                            <label>您的年龄是</label>
                                            <div class="example-box">
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="age"
                                                           value="1" ><span>20以下</span>
                                                </label>
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="age"
                                                           value="2"> <span>20到40</span>
                                                </label>
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="age"
                                                           value="3"> <span>40到60</span>
                                                </label>
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="age"
                                                           value="4"> <span>60以上</span>
                                                </label>
                                            </div>
                                            <span class="help-block"></span>
                                        </div>

                                        <div class="form-group">
                                            <label>偏好什么样的风险</label>
                                            <div class="example-box">
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="risLevel"
                                                        value="1"><span>低</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="risLevel"
                                                        value="2"> <span>中</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="risLevel"
                                                        value="3"> <span>低</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label>打算投资多久</label>
                                            <div class="example-box">
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="period"
                                                        value="1"><span>不固定</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="period"
                                                        value="2"> <span>1年内</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="period"
                                                        value="3"> <span>1~3年</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="period"
                                                        value="4"> <span>3年以上</span>
                                                </label>
                                            </div>
                                        </div>


                                        <div class="form-group">
                                            <label>您的学历是</label>
                                            <div class="example-box">
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="study"
                                                        value="1"><span>高中/职</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="study"
                                                        value="2"> <span>本/专科</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="study"
                                                        value="3"> <span>研究生及以上</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="study"
                                                        value="4"> <span>初中及以下</span>
                                                </label>
                                            </div>
                                        </div>


                                        <div class="form-group">
                                            <label>您有过几年投资经验</label>
                                            <div class="example-box">
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="experience"
                                                        value="1"><span>1年内</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="experience"
                                                        value="2"> <span>1～3年</span>
                                                </label>
                                                <label class="lyear-radio radio-inline"> <input
                                                        type="radio" name="experience"
                                                        value="3"> <span>3年以上</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="money">您的年收入折合人民币为</label>
                                            <input class="form-control" type="text" id="money" name="money" placeholder="请输入您的收入">
                                            <span class="help-block"></span>
                                        </div>
                                        <div class="form-group">
                                            <label for="health">请如实告知您的健康状况（已知的疾病）</label>
                                            <input class="form-control" type="text" id="health" name="health" placeholder="请输入您的健康情况">
                                            <span class="help-block"></span>
                                        </div>
                                        <div class="form-group">
                                            <label>假设有两种投资：投资A预期获得5%收益，可能承受的风险很小；投资B预期获得30%收益，但可能承受较大亏损，您会怎么支配您的投资：</label>
                                            <div class="example-box">
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="checkAB"
                                                           value="1" ><span>全部投资于收益较大且风险较大的B</span>
                                                </label>
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="checkAB"
                                                           value="2"> <span>同时投资于A和B，但大部分资金投资收益较大且风险较大的B</span>
                                                </label>
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="checkAB"
                                                           value="3"> <span>同时投资A和B，但大部分资金投资收益较小且风险较小的A</span>
                                                </label>
                                                <label class="lyear-radio radio-inline">
                                                    <input type="radio" name="checkAB"
                                                           value="4"> <span>全部投资于收益较小且风险较小的A</span>
                                                </label>
                                            </div>
                                            <span class="help-block"></span>
                                        </div>
                                        <div class="form-group">
                                            <button class="btn btn-primary" id="submit" type="button">确认</button>
                                        </div>
                                    </form>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!--End 页面主要内容-->
    </div>
</div>

<!-- 引入jQuery和bootstrap的js -->
<script th:src="@{/js/jquery.js}"></script>
<script th:src="@{/bootstrap/js/bootstrap.js}"></script>
<!--滚动条插件-->
<script th:src="@{/lyear/js/perfect-scrollbar.min.js}"></script>
<!--弹出框js-->
<script th:src="@{/lyear/jconfirm/jquery-confirm.min.js}"></script>
<!--自定义js脚本-->
<script th:src="@{/lyear/js/main.min.js}"></script>
<script th:inline="javascript">



    //ajax提交网贷申请
    $("#submit").click(function () {
        var sex = $('input[name="sex"]:checked').val();
        var age = $('input[name="age"]:checked').val();
        var risLevel = $('input[name="risLevel"]:checked').val();
        var period = $('input[name="period"]:checked').val();
        var study = $('input[name="study"]:checked').val();
        var experience = $('input[name="experience"]:checked').val();
        var money = $("#money").val();
        var health = $("#health").val();
        var checkAB = $('input[name="checkAB"]:checked').val();
        $.alert({
            title: '提示：',
            content: "确认您的选项码？",
            buttons: {
                confirm: {
                    text: '确认',
                    btnClass: 'btn-primary',
                    action: function(){
                        $.ajax({
                            url: "/user/applyLoan",
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            data:JSON.stringify( {
                                "sex": sex,
                                "age": age,
                                "risLevel": risLevel,
                                "period": period,
                                "study" : study,
                                "experience" : experience,
                                "money" : money,
                                "health" : health,
                                "checkAB" : checkAB
                            }),
                            success: function(result) {
                                if (result.code === 100) {
                                    $.alert(result.msg);
                                    setTimeout(function () {
                                        location.href = "/user/tools/toApplyLoan.html";
                                    }, 1000);
                                } else {
                                    $.alert('申请失败!');
                                }
                            }
                        });
                    }
                },
                cancel: {
                    text: '取消',
                    action: function () {
                        $.alert('已取消!');
                    }
                }
            }
        });
    }

    //显示校验结果的提示信息
    function show_validate_msg(ele, status, msg) {
        //清除当前元素的校验状态
        $(ele).parent().removeClass("has-success has-error");
        $(ele).next("span").text("");
        if ("success" == status) {
            $(ele).parent().addClass("has-success");
            $(ele).next("span").text(msg);
        } else if ("error" == status) {
            $(ele).parent().addClass("has-error");
            $(ele).next("span").text(msg);
        }
    }



</script>
</body>
</html>
